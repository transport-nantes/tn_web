{% extends 'asso_tn/base_mobilitain.html' %} {% block content %}
<div class="container-fluid">
  <div class="row row-cols-1 row-cols-lg-2 m-2">
    {%for press_mention in press_mention_list %}
      <div class="col my-1">
      {% if press_mention.og_image %}
          <div class="card p-0 h-100">
            <div class="row no-gutters">
              <div class="col-md-4">
                <img
                  src="{{ press_mention.og_image.url }}"
                  class="card-img press-card-image"
                  alt="{{ press_mention.newspaper_name }}"/>
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <a
                    href="{{ press_mention.article_link }}"
                    class="stretched-link text-muted text-decoration-none font-weight-bold">
                    {{ press_mention.get_domaine_of_link }}
                  </a>
                  <h5 class="card-title">{{ press_mention.og_title }}</h5>
                  <p class="card-text">
                    {{ press_mention.og_description|truncatewords:10 }}
                  </p>
                </div>
              </div>
            </div>
          </div>
      {% else %} 
      {% comment %}
        If no open graph image we display no image.
      {% endcomment %}
      <div class="card p-0 h-100">
        <div class="card-body">
          <a
            href="{{ press_mention.article_link }}"
            class="stretched-link text-muted text-decoration-none font-weight-bold">
            {{ press_mention.get_domaine_of_link }}
          </a>
          <h5 class="card-title">{{ press_mention.og_title }}</h5>
          <p class="card-text">
            {{ press_mention.og_description|truncatewords:10 }}
          </p>
        </div>
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
</div>
<nav aria-label="pagination naviguation">
  <ul class="pagination justify-content-center">
    {% if page_obj.has_previous %}
      <li class="page-item"></li>
        <a class="page-link" href="?page=1"><i class="fas fa-angle-double-left"></i> Première</a>
      </li>
      <li class="page-item"></li>
        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Précédent</a>
      </li>
    {% endif %}
    {% for number in number_pagination_list %}
      {% if number == page_obj.number %}
        <li class="page-item active" aria-current="page">
          <a class="page-link active" href="#">{{ page_obj.number }}</a>
        </li>
      {% elif number in paginator.page_range %}
        <li class="page-item">
          <a class="page-link" href="?page={{ number }}">{{ number }}</a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="?page={{ number }}">{{ number }}</a>
        </li>
      {% endif %}
    {% endfor %}
    {% if page_obj.has_next %}
      <li class="page-item"></li>
        <a class="page-link" href="?page={{ page_obj.next_page_number }}">Suivant</a>
      </li>
      <li class="page-item"></li>
        <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Dernière <i class="fas fa-angle-double-right"></i></a>
      </li>
    {% endif %}
  </ul>
</nav>
{% endblock content %}
